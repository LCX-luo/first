<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="dorohead.png">
    <link rel="stylesheet" href="style.css">
    <title>自我介绍</title>
</head>
<body>
    <header class="headerstyle">
        <img src="dorohead.png" alt="图片不见了" title="好看吗">
        <h1>你好！</h1>
        <ul>
            <li><a href="#skills">技能</a></li>
            <li><a href="#life">生活</a></li>
            <li><a href="#contact">联系我</a></li>
            <li><a href="#message-boardbackground">留言版</a></li>

        </ul>
    </header>
   
    <div class="main-introducemyself">
        <img src="dorohead.png" alt="我的照片">
        <div class="main-text">
            <h1>欢迎来到我的自我介绍页面！</h1>
            <p>我叫罗晨轩,信软24级中登,<br>
                由于大一摆了一年于是今年开始<s>带着愧疚</s>狠狠卷<br>
                喜欢探索世界,因此也热爱旅游,开拓新地图<br>
                所以我也喜欢拍照,记录生活中的美好瞬间<br>
                当然,我也喜欢美食,约饭可以找我！<br>
                运动,喜欢游泳和骑行,骑绿道是我的最爱<br>
                目前正在学习前端开发<br>

            </p>
        </div>
    </div>
    <script>
        const introImage = document.querySelector('.main-introducemyself img');
        introImage.addEventListener('mouseover', () => {
            introImage.style.transform = 'rotate(10deg) scale(1.1)';
        });
        introImage.addEventListener('mouseout', () => {
            introImage.style.transform = 'scale(1)';
            introImage.style.boxShadow = 'none';
        });
    </script>
    
    <div id="skills" class="skills-section">
        <h2 class="section-title">我的技能</h2>
        <div class="skills-container">
            <div class="skill-card">
                <div class="skill-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>编程能力</h3>
                <p>掌握c、JavaScript等编程语言，正在学习Web开发和vue</p>
            </div>
            <div class="skill-card">
                <div class="skill-icon">
                    <i class="fas fa-camera"></i>
                </div>
                <h3>旅行规划</h3>
                <p>擅长制定详细旅行计划，能发现小众景点和特色美食</p>
            </div>
            <div class="skill-card">
                <div class="skill-icon">
                    <i class="fas fa-bicycle"></i>
                </div>
                <h3>骑行技巧</h3>
                <p>有多年骑行经验，熟悉各类骑行路线规划和安全知识</p>
            </div>
        </div>
    </div>


    
    <br>
    <h1 style=" text-align: center;" id="life">照片</h1>
    <div class="carousel">
        <!-- 新增：图片轨道容器，用于包裹所有图片 -->
        <div class="carousel-track">
            <div class="carousel-item">
                <img src="平潭.jpg" alt="图片2">
                <p class="carousel-explanation">福建平潭</p>
            </div>
            <div class="carousel-item">
                <img src="武汉.jpg" alt="图片1">
                <p class="carousel-explanation">武汉</p>
            </div>
            <div class="carousel-item">
                <img src="龙泉桃花.jpg" alt="图片3">
                <p class="carousel-explanation">龙泉山</p>
            </div>
            <div class="carousel-item">
                <img src="绿道.jpg" alt="图片4">
                <p class="carousel-explanation">绿道</p>
            </div>
            <div class="carousel-item">
                <img src="绿道2.jpg" alt="图片5">
                <p class="carousel-explanation">绿道</p>
            </div>
        </div>
        <!-- 新增：前后导航按钮 -->
        <button class="carousel-btn prev-btn">&#60;</button>
        <button class="carousel-btn next-btn">&#62;</button>
    </div>
    <script>
        // 获取元素
        const track = document.querySelector('.carousel-track');
        const images = document.querySelectorAll('.carousel img');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const carouselWidth = document.querySelector('.carousel').offsetWidth - 3;//我不理解...边框不是2吗

        let currentIndex = 0;

        // 更新轮播位置
        function updatePosition() {
            // 计算并设置位移，实现滑动效果
            track.style.transform = `translateX(-${currentIndex * carouselWidth}px)`;
        }
        // 下一张
        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            updatePosition();
        }
        // 上一张
        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updatePosition();
        }

        // 自动播放
        let autoplay = setInterval(nextImage, 3000);

        // 按钮事件监听
        nextBtn.addEventListener('click', () => {
            clearInterval(autoplay); // 点击时清除自动播放
            nextImage();
        });

        prevBtn.addEventListener('click', () => {
            clearInterval(autoplay);
            prevImage();
        });

        // 鼠标悬停暂停自动播放
        document.querySelector('.carousel').addEventListener('mouseenter', () => {
            clearInterval(autoplay);
        });

        // 鼠标离开恢复自动播放
        document.querySelector('.carousel').addEventListener('mouseleave', () => {
            autoplay = setInterval(nextImage, 3000);
        });
    </script>
    <div class="contact-section" id="contact">
    <h2 class="section-title">联系我</h2>
    <div class="contact-container">
        <!-- 邮箱联系卡片 -->
        <div class="contact-card">
            <div class="contact-icon">
                <i class="fas fa-envelope"></i>
            </div>
            <h3>邮箱</h3>
            <p>随时发送邮件咨询</p>
            <p>1010958435@qq.com</p>
        </div>
        
        <!-- 电话联系卡片 -->
        <div class="contact-card">
            <div class="contact-icon">
                <i class="fas fa-phone"></i>
            </div>
            <h3>电话</h3>
            <p>每天9:00-23:00接听</p>
            <p>+86 173 1955 1236</p>
        </div>
        
        <!-- 微信联系卡片 -->
        <div class="contact-card">
            <div class="contact-icon">
                <i class="fab fa-weixin"></i>
            </div>
            <h3>微信</h3>
            <p>添加好友咨询</p>
            <p>wxid_pc62umw22ef322</p>
        </div>
    </div>
</div>
    <h2 style="text-align: center" id="message-boardbackground">留言板</h2>
    <div class="message-boardbackground">
        <div class="message-boardform">
            <form action="#" method="post">
                <label for="name">名字:</label>
                <br>
                <input type="text" id="name" name="name" required>
                <br>
                <label for="message">留言:</label>
                <br>
                <textarea id="message" name="message" rows="4" cols="40" required></textarea>
                <br>
                <button type="submit">提交</button>
                <button type="reset">重置</button>
            </form>
        </div>
        <div class="message">
            <h2>留言</h2>
            <div id="messages">
                <!-- 留言将显示在这里 -->
            </div>
            <button id="clearAllMessages" onclick="clearAllMessages()">清空所有留言</button>
        </div>
    </div>
    <script>
        // 页面加载完成后读取并显示留言
        document.addEventListener('DOMContentLoaded', loadMessages);
        if (getMessages().length > 0) {
            document.getElementById('clearAllMessages').style.display = "block";
        }
        // 表单提交事件处理
        document.querySelector('.message-boardform form').addEventListener('submit', (e) => {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const message = document.getElementById('message').value;

            // 创建留言对象，包含时间戳便于排序
            const newMessage = {
                name: name,
                content: message,
                timestamp: new Date().toISOString() // 标准化时间格式
            };

            // 保存新留言
            saveMessage(newMessage);

            // 刷新显示
            loadMessages();

            // 清空表单
            document.getElementById('name').value = '';
            document.getElementById('message').value = '';
        });

        // 从localStorage读取所有留言
        function getMessages() {
            // 读取存储的字符串并转换为数组，如果没有则返回空数组
            const messagesStr = localStorage.getItem('messages');
            return messagesStr ? JSON.parse(messagesStr) : [];
        }

        // 保存新留言到localStorage
        function saveMessage(newMessage) {
            // 先获取现有留言
            const messages = getMessages();
            // 添加新留言
            messages.push(newMessage);
            // 保存回localStorage（转换为字符串）
            localStorage.setItem('messages', JSON.stringify(messages));
        }

        // 加载并显示所有留言
        function loadMessages() {
            const messagesContainer = document.getElementById('messages');
            const messages = getMessages();

            // 清空现有内容
            messagesContainer.innerHTML = '';

            // 遍历留言并显示（按时间倒序）
            messages.reverse().forEach(msg => {
                const messageDiv = document.createElement('div');
                // 格式化时间显示
                const date = new Date(msg.timestamp);
                const formattedTime = date.toLocaleString();

                messageDiv.innerHTML = `
            <strong>${msg.name}</strong> <small>${formattedTime}</small>
            <p>${msg.content}</p>
        `;
                messageDiv.style.borderBottom = "1px solid #ccc";
                messageDiv.style.marginBottom = "10px";
                messageDiv.style.paddingBottom = "10px";

                messagesContainer.appendChild(messageDiv);
                document.getElementById('clearAllMessages').style.display = "block";
            });
            if(messagesContainer.innerHTML ==''){
                messagesContainer.innerHTML='<p style="text-align:center">还没有留言，快来抢沙发吧！</p>';
            }
        }
        // 清空所有留言
        function clearAllMessages() {
            // 显示确认弹窗，用户点击确认返回true，取消返回false
            const userConfirmed = confirm("确定要删除所有留言吗？此操作不可恢复。");
            // 捕获用户的选择并进行处理
            if (userConfirmed) {
                // 用户点击了确认，执行删除操作
                localStorage.removeItem('messages');
                document.getElementById('clearAllMessages').style.display = "none";
                loadMessages(); // 刷新显示
            } else {
                // 用户点击了取消，不执行任何操作
                console.log("用户取消了删除操作"); // 可选：在控制台记录
                // 也可以添加取消提示，如：alert("已取消删除")
            }
        }
    </script>
</body>

</html>